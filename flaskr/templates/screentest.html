<html>
<head>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script src="http://js.pusher.com/1.12/pusher.min.js"></script>

<script type="text/javascript">
var pusher = new Pusher('b31d655fa7f11bd6f11d');
var channel = pusher.subscribe('channel_name');
channel.bind('URL_change', function(data) {
  $("iframe#main_frame").attr("src", data['url']);
  $("input#destination_url").attr("value", data['url']);
});

function navigate_request() {
    var destination = $("input#destination_url").val();
    $.get("http://localhost:5000/navigate", 
            {"destination_url" : destination});
    return false;
}

$(document).ready(function() {
    $("a#navigate").click(navigate_request);
});
    
</script>
</head>

<body>
	<input type="text" id="destination_url" size="100" value=""></input>
	<a href="" id="navigate" class="button">Go</a>

	<iframe id="main_frame" width="600" height="600" src="">
	</iframe>
</body>
</html>